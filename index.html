<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Z&M Subscription - MaÃ§ ArÅŸivi</title>
    <style>
        /* Ana Stil */
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #121212; 
            color: #e0e0e0; 
            margin: 0; 
            padding: 0; 
            min-height: 100vh;
        }
        
        /* Genel Konteyner ve BaÅŸlÄ±k */
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 20px; 
        }
        h1 { 
            color: #D32F2F; /* KIRMIZI */
            text-align: center; 
            margin-bottom: 30px; 
            font-size: 2.5em; 
            letter-spacing: 1px;
            padding-top: 20px;
        }

        /* GiriÅŸ EkranÄ± Stili */
        #login-screen { 
            text-align: center; 
            padding: 50px; 
            background: linear-gradient(145deg, #1e1e1e, #2a2a2a); 
            border-radius: 12px; 
            max-width: 400px; 
            margin: 100px auto; 
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.6); 
        }
        #login-screen h2 {
            color: #D32F2F; /* KIRMIZI */
            margin-bottom: 30px;
            font-weight: 600;
        }
        .input-group { 
            margin-bottom: 20px; 
        }
        .input-group input { 
            width: 100%; 
            padding: 12px; 
            border: 1px solid #333; 
            border-radius: 6px; 
            background-color: #333; 
            color: #e0e0e0; 
            box-sizing: border-box; 
            transition: border-color 0.3s;
        }
        .input-group input:focus {
            border-color: #D32F2F; /* KIRMIZI */
            outline: none;
            box-shadow: 0 0 0 2px rgba(211, 47, 47, 0.5); 
        }
        .button { 
            background-color: #D32F2F; /* KIRMIZI */
            color: white; 
            padding: 12px 25px; 
            border: none; 
            border-radius: 6px; 
            cursor: pointer; 
            font-size: 16px; 
            font-weight: bold;
            transition: background-color 0.3s, transform 0.1s, box-shadow 0.3s; 
            box-shadow: 0 4px #B71C1C; 
        }
        .button:active {
            transform: translateY(2px);
            box-shadow: 0 2px #B71C1C; 
        }
        .button:hover { 
            background-color: #B71C1C; 
        }
        
        /* ArÅŸiv EkranÄ± Stili */
        #arsiv-screen { 
            display: none; 
            padding-top: 60px; 
        } 
        #mac-listesi { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
            gap: 25px; 
            padding: 10px;
        }
        .mac-kart { 
            background-color: #1e1e1e; 
            border-radius: 10px; 
            overflow: hidden; 
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4); 
            text-align: center; 
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .mac-kart:hover { 
            transform: translateY(-8px); 
            box-shadow: 0 12px 20px rgba(211, 47, 47, 0.3); 
        }
        .mac-kapak { 
            width: 100%; 
            height: 180px; 
            object-fit: cover; 
        }
        .mac-bilgi { 
            padding: 15px; 
            flex-grow: 1;
        }
        .mac-bilgi h3 { 
            margin: 5px 0 10px; 
            color: white; 
            font-size: 1.2em;
        }
        .mac-bilgi p { 
            color: #aaa; 
            font-size: 0.9em; 
            margin-bottom: 20px; 
        }
        .indirme-butonu {
            display: inline-block;
            margin-bottom: 15px;
            text-decoration: none;
        }

        /* --- YENÄ° MENÃœ VE BÄ°LDÄ°RÄ°M STÄ°LLERÄ° --- */
        #header-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 60px;
            background-color: #1a1a1a;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            padding: 0 15px;
            z-index: 100;
        }
        /* MenÃ¼ butonu iÃ§in kapsayÄ±cÄ± */
        .menu-button-container {
            position: relative;
            display: inline-block;
            margin-right: 20px;
        }
        .menu-button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 10px;
            color: white;
            font-size: 24px;
            transition: color 0.3s;
        }
        .menu-button:hover {
            color: #D32F2F; /* KIRMIZI */
        }
        /* BaÅŸlÄ±k Ã¼zerindeki bildirim balonu */
        #menu-button-badge {
            position: absolute;
            top: 0px;
            right: -10px;
            background-color: #D32F2F;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 0.75em;
            font-weight: bold;
            min-width: 15px;
            text-align: center;
            line-height: 1;
        }
        .header-title {
            color: #e0e0e0;
            font-size: 1.2em;
            font-weight: bold;
        }
        
        /* Yan MenÃ¼ (Sidebar) */
        #side-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 250px;
            height: 100%;
            background-color: #222;
            z-index: 200;
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.7);
        }
        #side-menu.open {
            transform: translateX(0);
        }
        .menu-header {
            padding: 20px;
            background-color: #1a1a1a;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #D32F2F; /* KIRMIZI */
            font-size: 1.1em;
            font-weight: bold;
        }
        .menu-header .close-button {
            font-size: 28px;
            cursor: pointer;
            color: white;
        }
        .menu-item {
            padding: 15px 20px;
            cursor: pointer;
            border-bottom: 1px solid #333;
            transition: background-color 0.2s, color 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .menu-item:hover {
            background-color: #333;
            color: #D32F2F; /* KIRMIZI */
        }
        /* MenÃ¼ iÃ§i bildirim balonu */
        .badge {
            background-color: #D32F2F;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 0.75em;
            font-weight: bold;
            line-height: 1;
            min-width: 15px;
            text-align: center;
        }
        
        /* Duyuru metin stili */
        .info-content h2, .info-content h3 { color: #D32F2F; margin-top: 15px; }
        .info-content p, .info-content ul { line-height: 1.6; margin-bottom: 10px; }
        .info-content ul { padding-left: 20px; }
        
        /* MenÃ¼ AÃ§Ä±kken Arka PlanÄ± Karartma (Overlay) */
        #menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 150;
            display: none;
        }

        /* Mobil Uyum */
        @media (max-width: 600px) {
            .container { margin: 20px; padding: 10px; }
            #login-screen { margin: 50px 20px; padding: 30px; max-width: 90%; }
            #mac-listesi { grid-template-columns: 1fr; }
            #side-menu { width: 80%; }
        }
    </style>
</head>
<body>

    <!-- 1. GÄ°RÄ°Å EKRANI -->
    <div id="login-screen">
        <h2>Z&M Subscription GiriÅŸ</h2>
        <div class="input-group">
            <input type="text" id="username" placeholder="KullanÄ±cÄ± AdÄ±">
        </div>
        <div class="input-group">
            <input type="password" id="password" placeholder="Åifre" onkeydown="if(event.key === 'Enter') loginControl()">
        </div>
        <button class="button" onclick="loginControl()">GiriÅŸ Yap</button>
        <p id="error-message" style="color: #ff4d4d; margin-top: 15px; display: none;">HatalÄ± KullanÄ±cÄ± AdÄ± veya Åifre.</p>
    </div>

    <!-- 2. MAÃ‡ ARÅÄ°V EKRANI (BaÅŸlangÄ±Ã§ta Gizli) -->
    <div id="arsiv-screen">
        
        <!-- ÃœST BAÅLIK VE MENÃœ BUTONU -->
        <div id="header-bar">
            <div class="menu-button-container">
                <button class="menu-button" onclick="toggleMenu(true)">
                    <!-- Hamburger Ä°konu (SVG) -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                <span id="menu-button-badge" class="badge" style="display:none;">0</span>
            </div>
            <span class="header-title">Z&M MaÃ§ ArÅŸivi</span>
        </div>

        <!-- YAN MENÃœ (SIDEBAR) -->
        <div id="side-menu">
            <div class="menu-header">
                Filtrele
                <span class="close-button" onclick="toggleMenu(false)">&times;</span>
            </div>
            
            <!-- SABÄ°T BÄ°LGÄ° SAYFALARI -->
            <div class="menu-item" onclick="showContent('Duyuru')">
                Duyuru 
                <span id="duyuru-badge" class="badge" style="display:none;">1</span>
            </div>
            <div class="menu-item" onclick="showContent('Kurallar')">
                Kurallar
                <span id="kurallar-badge" class="badge" style="display:none;">1</span>
            </div>
            
            <!-- YENÄ° KATEGORÄ° FÄ°LTRELERÄ° -->
            <div class="menu-item" onclick="filterMaclar('Åampiyonlar Ligi Full MaÃ§larÄ±')">
                Åampiyonlar Ligi Full MaÃ§larÄ± 
                <span data-category="Åampiyonlar Ligi Full MaÃ§larÄ±" class="badge category-badge" style="display:none;">0</span>
            </div>
            <div class="menu-item" onclick="filterMaclar('SÃ¼per Lig Full MaÃ§larÄ±')">
                SÃ¼per Lig Full MaÃ§larÄ± 
                <span data-category="SÃ¼per Lig Full MaÃ§larÄ±" class="badge category-badge" style="display:none;">0</span>
            </div>
            <div class="menu-item" onclick="filterMaclar('Ä°spanya(LaLiga) Ligi')">
                Ä°spanya(LaLiga) Ligi
                <span data-category="Ä°spanya(LaLiga) Ligi" class="badge category-badge" style="display:none;">0</span>
            </div>
            <div class="menu-item" onclick="filterMaclar('Ä°ngiltere(Premier) Ligi')">
                Ä°ngiltere(Premier) Ligi
                <span data-category="Ä°ngiltere(Premier) Ligi" class="badge category-badge" style="display:none;">0</span>
            </div>
            <div class="menu-item" onclick="filterMaclar('Almanya(Bundesliga) Ligi')">
                Almanya(Bundesliga) Ligi
                <span data-category="Almanya(Bundesliga) Ligi" class="badge category-badge" style="display:none;">0</span>
            </div>
            <div class="menu-item" onclick="filterMaclar('Avrupa Ligi Full MaÃ§larÄ±')">
                Avrupa Ligi Full MaÃ§larÄ±
                <span data-category="Avrupa Ligi Full MaÃ§larÄ±" class="badge category-badge" style="display:none;">0</span>
            </div>
            <div class="menu-item" onclick="filterMaclar('Konferans Ligi Full MaÃ§larÄ±')">
                Konferans Ligi Full MaÃ§larÄ±
                <span data-category="Konferans Ligi Full MaÃ§larÄ±" class="badge category-badge" style="display:none;">0</span>
            </div>
            <div class="menu-item" onclick="filterMaclar('Basketbol MaÃ§larÄ±')">
                Basketbol MaÃ§larÄ±
                <span data-category="Basketbol MaÃ§larÄ±" class="badge category-badge" style="display:none;">0</span>
            </div>
            <div class="menu-item" onclick="filterMaclar('DiÄŸer Full MaÃ§lar')">
                DiÄŸer Full MaÃ§lar 
                <span data-category="DiÄŸer Full MaÃ§lar" class="badge category-badge" style="display:none;">0</span>
            </div>
        </div>

        <!-- MENÃœ AÃ‡IKKEN ARKA PLANI KARARTAN KATMAN -->
        <div id="menu-overlay" onclick="toggleMenu(false)"></div>

        <!-- 3. DUYURU Ä°Ã‡ERÄ°K ALANI -->
        <div id="duyuru-content" class="container" style="display:none;">
            <h1>ğŸ“£ Duyurular</h1>
            <div id="duyuru-text" class="info-content" style="background-color: #1e1e1e; padding: 25px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.5);">
                <!-- Metin JavaScript ile buraya eklenecek -->
            </div>
        </div>
        
        <!-- 4. KURALLAR Ä°Ã‡ERÄ°K ALANI -->
        <div id="kurallar-content" class="container" style="display:none;">
            <h1>âš¡ Z&M Subscription KurallarÄ±</h1>
            <div id="kurallar-text" class="info-content" style="background-color: #1e1e1e; padding: 25px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.5);">
                <!-- Metin JavaScript ile buraya eklenecek -->
            </div>
        </div>

        <!-- 5. MAÃ‡ LÄ°STESÄ° Ä°Ã‡ERÄ°K ALANI -->
        <div id="arsiv-list-content" class="container" style="display:none;">
            <h1>âš½ MaÃ§ ArÅŸivi</h1>
            <div id="mac-listesi">
                <!-- MaÃ§ kartlarÄ± JavaScript ile buraya eklenecek -->
            </div>
        </div>
    </div>

    <script>
        // --- 1. KULLANICI VE SABÄ°T VERÄ°LER ---

        // KULLANICI LÄ°STESÄ° (GÃ¼ncellenmiÅŸ KullanÄ±cÄ± AdlarÄ± ve Åifreler)
        const kullanicilar = {
            "mexy1905@": "Mexy",
            "zeus1967@": "Zeus",
            "krxy1905@zmsub": "5CORQU",
            "wyrox1905@zmsub": "0CdPC",
            "kayra1967@zmsub": "r95pH",
            "gst1905@zmsub": "XOlAC"
        };


        // Duyuru verisi (metin ve yeni/okunmadÄ± durumu)
        const duyuruData = {
            metin: `
                <h2>ArÅŸive HoÅŸ Geldiniz!</h2>
                <p>Sevgili kullanÄ±cÄ±larÄ±mÄ±z,</p>
                <p>Z&M Subscription MaÃ§ ArÅŸivi'ne hoÅŸ geldiniz. ArÅŸivimizdeki tÃ¼m maÃ§larÄ± sol menÃ¼den kategori seÃ§erek filtreleyebilirsiniz. Yeni iÃ§erikler ve duyurular iÃ§in menÃ¼deki bildirimleri takip etmeyi unutmayÄ±n!</p>
                <p style="font-style: italic; margin-top: 20px;">Ä°yi seyirler dileriz!</p>
            `,
            yeni: true // Duyuru 'yeni' olarak iÅŸaretli
        };
        
        // Kurallar verisi
        const kurallarData = {
            metin: `
                <h2>Z&M Subscription Ãœyelik KurallarÄ±</h2>
                <p>Bu arÅŸiv, sadece Z&M Subscription Ã¼yeleri iÃ§in Ã¶zel olarak hazÄ±rlanmÄ±ÅŸtÄ±r. LÃ¼tfen aÅŸaÄŸÄ±daki kurallara harfiyen uyunuz.</p>
                
                <h3>1ï¸âƒ£ Leak (SÄ±zÄ±ntÄ±) Kesinlikle YasaktÄ±r</h3>
                <ul>
                    <li>Abonelik iÃ§eriklerini baÅŸka sunucuya, kiÅŸiye veya gruba gÃ¶ndermek kesin yasaktÄ±r.</li>
                    <li>Leak tespit edilirse abonelik anÄ±nda ve sÃ¼resiz olarak sonlandÄ±rÄ±lÄ±r.</li>
                </ul>
                
                <h3>2ï¸âƒ£ PaylaÅŸÄ±m ve SatÄ±ÅŸ YasaktÄ±r</h3>
                <p>SatÄ±n alÄ±nan iÃ§erikler baÅŸkalarÄ±yla paylaÅŸÄ±lmaz, satÄ±lmaz veya yeniden daÄŸÄ±tÄ±lmaz.</p>
                
                <h3>3ï¸âƒ£ Hesap GÃ¼venliÄŸi SorumluluÄŸu Size Aittir</h3>
                <p>HesabÄ±nÄ±zdan yapÄ±lan tÃ¼m ihlaller (kural dÄ±ÅŸÄ± paylaÅŸÄ±mlar dahil) sizin sorumluluÄŸunuzdadÄ±r.</p>
                
                <h3>4ï¸âƒ£ Ä°Ã§erikler KiÅŸisel KullanÄ±m Ä°Ã§indir</h3>
                <ul>
                    <li>Z&M tarafÄ±ndan verilen maÃ§lar, klipler, kayÄ±tlar ve arÅŸivler kiÅŸisel kullanÄ±m iÃ§indir.</li>
                    <li>Herhangi bir platforma yÃ¼klemek, paylaÅŸmak veya yayÄ±nlamak kesinlikle yasaktÄ±r.</li>
                </ul>
                
                <h3>5ï¸âƒ£ Spam / RahatsÄ±z Etme YasaktÄ±r</h3>
                <p>YÃ¶netici ve destek ekibini gereksiz mentionlamak veya spam yapmak yasaktÄ±r.</p>
                
                <h3>6ï¸âƒ£ Ä°ade KoÅŸullarÄ±</h3>
                <p>Abonelik baÅŸladÄ±ktan sonra iade yapÄ±lmaz.</p>
                
                <h3>7ï¸âƒ£ Kurallara UymayanÄ±n AboneliÄŸi Ä°ptal Edilir</h3>
                <p>Kurallara aykÄ±rÄ± davranan kiÅŸilerin aboneliÄŸi tek taraflÄ± olarak, sÃ¼resiz ve iadesiz olarak iptal edilir.</p>
                
                <p style="font-style: italic; margin-top: 25px;">Kurallara uyduÄŸunuz iÃ§in teÅŸekkÃ¼r ederiz.</p>
            `,
            yeni: true // Kurallar 'yeni' olarak iÅŸaretli
        };

        // MaÃ§ verileri (Yeni Kategori yapÄ±sÄ±na uygun gÃ¼ncellendi)
        const macVerileri = [
            // Åampiyonlar Ligi Full MaÃ§larÄ±
            { "id": 1, "ad": "CL: Kairat vs Olympiakos (Full)", "kapak_url": "https://placehold.co/300x180/0D47A1/ffffff?text=CL+FULL", "tarih": "09 AralÄ±k 2025", "kategori": "Åampiyonlar Ligi Full MaÃ§larÄ±", "drive_link": "https://drive.google.com/uc?export=download&id=CL_KAIRAT", "yeni": true },
            { "id": 2, "ad": "CL: GS vs Real Madrid (2024 Finali)", "kapak_url": "https://placehold.co/300x180/6A1B9A/ffffff?text=CL+GS+FINAL", "tarih": "01 Haziran 2024", "kategori": "Åampiyonlar Ligi Full MaÃ§larÄ±", "drive_link": "https://drive.google.com/uc?export=download&id=CL_GS_REAL", "yeni": false },
            
            // SÃ¼per Lig Full MaÃ§larÄ±
            { "id": 3, "ad": "STSL: BeÅŸiktaÅŸ vs Gaziantep FK (Full)", "kapak_url": "https://placehold.co/300x180/212121/ffffff?text=STSL+BJK", "tarih": "08 AralÄ±k 2025", "kategori": "SÃ¼per Lig Full MaÃ§larÄ±", "drive_link": "https://drive.google.com/uc?export=download&id=STSL_BJK_GFK", "yeni": true },
            { "id": 4, "ad": "STSL: FB vs GS Derbi", "kapak_url": "https://placehold.co/300x180/ff5722/ffffff?text=STSL+DERBI", "tarih": "15 Mart 2025", "kategori": "SÃ¼per Lig Full MaÃ§larÄ±", "drive_link": "https://drive.google.com/uc?export=download&id=STSL_FB_GS", "yeni": false},
            
            // Ä°spanya(LaLiga) Ligi
            { "id": 5, "ad": "LaLiga: Real Madrid vs Celta Vigo", "kapak_url": "https://placehold.co/300x180/D32F2F/ffffff?text=LALIGA+RM", "tarih": "07 AralÄ±k 2025", "kategori": "Ä°spanya(LaLiga) Ligi", "drive_link": "https://drive.google.com/uc?export=download&id=LALIGA_RM", "yeni": true },
            
            // Ä°ngiltere(Premier) Ligi
            { "id": 6, "ad": "PL: Brighton vs Wolves", "kapak_url": "https://placehold.co/300x180/37474F/ffffff?text=PL+BRIGHTON", "tarih": "07 AralÄ±k 2025", "kategori": "Ä°ngiltere(Premier) Ligi", "drive_link": "https://drive.google.com/uc?export=download&id=PL_BHA", "yeni": false},
            
            // Almanya(Bundesliga) Ligi
            { "id": 7, "ad": "Bundesliga: Bayern vs Dortmund", "kapak_url": "https://placehold.co/300x180/D50000/ffffff?text=B+LIGA+BAYERN", "tarih": "07 AralÄ±k 2025", "kategori": "Almanya(Bundesliga) Ligi", "drive_link": "https://drive.google.com/uc?export=download&id=BLIGA_BAY", "yeni": true},

            // Avrupa Ligi Full MaÃ§larÄ±
            { "id": 8, "ad": "UEL: FenerbahÃ§e vs FerencvaroÅŸ (Full)", "kapak_url": "https://placehold.co/300x180/FFAB00/ffffff?text=UEL+FB", "tarih": "30 KasÄ±m 2025", "kategori": "Avrupa Ligi Full MaÃ§larÄ±", "drive_link": "https://drive.google.com/uc?export=download&id=UEL_FB", "yeni": false},

            // Konferans Ligi Full MaÃ§larÄ±
            { "id": 9, "ad": "UECL: BeÅŸiktaÅŸ vs Brugge (Full)", "kapak_url": "https://placehold.co/300x180/673AB7/ffffff?text=UECL+BJK", "tarih": "16 KasÄ±m 2025", "kategori": "Konferans Ligi Full MaÃ§larÄ±", "drive_link": "https://drive.google.com/uc?export=download&id=UECL_BJK", "yeni": false},

            // Basketbol MaÃ§larÄ±
            { "id": 10, "ad": "EuroLeague: FB vs Olympiakos", "kapak_url": "https://placehold.co/300x180/1976D2/ffffff?text=BASKET+FB", "tarih": "07 AralÄ±k 2025", "kategori": "Basketbol MaÃ§larÄ±", "drive_link": "https://drive.google.com/uc?export=download&id=BASKET_FB", "yeni": true},
            
            // DiÄŸer Full MaÃ§lar
            { "id": 11, "ad": "Serie A: Torino vs Roma (Full)", "kapak_url": "https://placehold.co/300x180/880E4F/ffffff?text=SERIE+A", "tarih": "08 AralÄ±k 2025", "kategori": "DiÄŸer Full MaÃ§lar", "drive_link": "https://drive.google.com/uc?export=download&id=DIGER_SERIEA", "yeni": true }
        ];

        // TÃ¼m kategori isimleri listesi (Badge'leri kontrol etmek iÃ§in)
        const allCategories = [
            "Åampiyonlar Ligi Full MaÃ§larÄ±", "SÃ¼per Lig Full MaÃ§larÄ±", "Ä°spanya(LaLiga) Ligi", "Ä°ngiltere(Premier) Ligi",
            "Almanya(Bundesliga) Ligi", "Avrupa Ligi Full MaÃ§larÄ±", "Konferans Ligi Full MaÃ§larÄ±", "Basketbol MaÃ§larÄ±",
            "DiÄŸer Full MaÃ§lar"
        ];

        // --- 2. BÄ°LDÄ°RÄ°M VE DURUM YÃ–NETÄ°MÄ° ---

        // Yeni maÃ§ ve duyuru sayÄ±larÄ±nÄ± hesaplar
        function calculateNewItemCounts() {
            const categoryCounts = {};
            let totalNew = 0;

            // Kategori maÃ§ sayÄ±sÄ±nÄ± hesapla
            macVerileri.forEach(mac => {
                if (mac.yeni) {
                    totalNew++;
                    // mac.kategori'ye gÃ¶re sayÄ±m yap
                    const category = mac.kategori;
                    categoryCounts[category] = (categoryCounts[category] || 0) + 1;
                }
            });

            // Duyuru ve Kurallar sayÄ±sÄ±nÄ± ekle
            if (duyuruData.yeni) {
                totalNew++;
                categoryCounts['Duyuru'] = 1; // Badge iÃ§in
            }

            if (kurallarData.yeni) {
                totalNew++;
                categoryCounts['Kurallar'] = 1; // Badge iÃ§in
            }

            categoryCounts['Total'] = totalNew;
            return categoryCounts;
        }

        // Bildirim balonlarÄ±nÄ± (badges) gÃ¼nceller
        function updateBadges() {
            const counts = calculateNewItemCounts();
            
            // 1. Ana MenÃ¼ Butonu Bildirimi
            const menuBadge = document.getElementById('menu-button-badge');
            if (counts.Total > 0) {
                menuBadge.textContent = counts.Total;
                menuBadge.style.display = 'block';
            } else {
                menuBadge.style.display = 'none';
            }

            // 2. Duyuru ve Kurallar MenÃ¼ Bildirimi
            document.getElementById('duyuru-badge').style.display = duyuruData.yeni ? 'inline-block' : 'none';
            document.getElementById('kurallar-badge').style.display = kurallarData.yeni ? 'inline-block' : 'none';


            // 3. Kategori MenÃ¼ Bildirimleri
            document.querySelectorAll('.category-badge').forEach(badge => {
                const category = badge.getAttribute('data-category');
                const count = counts[category] || 0;
                
                if (count > 0) {
                    badge.textContent = count;
                    badge.style.display = 'inline-block';
                } else {
                    badge.style.display = 'none';
                }
            });
        }

        // --- 3. GÃ–RÃœNÃœM KONTROL FONKSÄ°YONLARI ---

        // TÃ¼m iÃ§erik alanlarÄ±nÄ± gizler
        function hideAllContent() {
            document.getElementById('duyuru-content').style.display = 'none';
            document.getElementById('kurallar-content').style.display = 'none';
            document.getElementById('arsiv-list-content').style.display = 'none';
        }
        
        // Genel iÃ§erik gÃ¶sterme fonksiyonu (Duyuru ve Kurallar iÃ§in)
        function showContent(contentType) {
            toggleMenu(false); // MenÃ¼yÃ¼ kapat
            hideAllContent();
            
            let contentDiv, textDiv, dataObject;

            if (contentType === 'Duyuru') {
                contentDiv = document.getElementById('duyuru-content');
                textDiv = document.getElementById('duyuru-text');
                dataObject = duyuruData;
            } else if (contentType === 'Kurallar') {
                contentDiv = document.getElementById('kurallar-content');
                textDiv = document.getElementById('kurallar-text');
                dataObject = kurallarData;
            } else {
                return; // GeÃ§ersiz tÃ¼r
            }

            textDiv.innerHTML = dataObject.metin;
            contentDiv.style.display = 'block';

            // Bildirimi Temizleme MantÄ±ÄŸÄ±
            if (dataObject.yeni) {
                dataObject.yeni = false;
                updateBadges();
            }
        }


        // MaÃ§larÄ± seÃ§ilen kategoriye gÃ¶re filtreler VE bildirimi temizler
        function filterMaclar(category) {
            toggleMenu(false); // MenÃ¼yÃ¼ kapat
            hideAllContent();
            
            const arsivContent = document.getElementById('arsiv-list-content');
            arsivContent.style.display = 'block';

            let filteredData;

            if (allCategories.includes(category)) {
                filteredData = macVerileri.filter(mac => 
                    mac.kategori === category
                );
                
                // Kategori Bildirimini Temizleme MantÄ±ÄŸÄ±
                macVerileri.forEach(mac => { 
                    // EÄŸer maÃ§ yeni ise ve seÃ§ilen kategoriye aitse
                    if (mac.yeni && mac.kategori === category) {
                        mac.yeni = false; // "Yeni" etiketini kaldÄ±r
                    }
                });
                
                // Liste baÅŸlÄ±ÄŸÄ±nÄ± gÃ¼ncelle
                document.querySelector('#arsiv-list-content h1').textContent = `âš½ ${category}`;
                
            } else {
                // GÃ¼venli olmasÄ± iÃ§in tÃ¼m maÃ§larÄ± gÃ¶ster (bu senaryo menÃ¼de olmamalÄ±)
                filteredData = macVerileri;
                document.querySelector('#arsiv-list-content h1').textContent = `âš½ TÃ¼m MaÃ§lar`;
            }
            
            
            renderMacListesi(filteredData);
            updateBadges(); // Bildirimleri gÃ¼ncelle
        }

        // --- 4. GÄ°RÄ°Å VE LÄ°STELEME FONKSÄ°YONLARI ---

        function loginControl() {
            // KullanÄ±cÄ± adÄ± kÃ¼Ã§Ã¼k harfe Ã§evriliyor (bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k harf duyarsÄ±z)
            const girilenKullanici = document.getElementById('username').value.toLowerCase().trim();
            // Åifre bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k harf duyarlÄ± kalÄ±yor
            const girilenSifre = document.getElementById('password').value.trim();
            const errorMessage = document.getElementById('error-message');
            
            // GiriÅŸ kontrolÃ¼
            const dogruSifre = kullanicilar[girilenKullanici];
            
            if (dogruSifre && dogruSifre === girilenSifre) {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('arsiv-screen').style.display = 'block';
                errorMessage.style.display = 'none';
                
                // GiriÅŸ baÅŸarÄ±lÄ± olunca ilk olarak Duyuru sayfasÄ±nÄ± gÃ¶ster
                showContent('Duyuru');
            } else {
                errorMessage.style.display = 'block';
                // GiriÅŸ denemesinden sonra alanlarÄ± temizle
                document.getElementById('password').value = '';
                document.getElementById('username').value = ''; 
            }
        }

        function renderMacListesi(dataToRender) {
            const listeDiv = document.getElementById('mac-listesi');
            listeDiv.innerHTML = '';

            if (dataToRender.length === 0) {
                 listeDiv.innerHTML = '<p style="text-align: center; color: #aaa; margin-top: 50px;">SeÃ§ilen kategori iÃ§in arÅŸivde maÃ§ bulunmamaktadÄ±r.</p>';
                 return;
            }
            
            dataToRender.forEach(mac => {
                const kart = document.createElement('div');
                kart.className = 'mac-kart';
                
                // Yeni maÃ§ ise kartÄ±n Ã¼stÃ¼ne bir etiket ekleyelim
                const newTag = mac.yeni ? '<div style="position: absolute; top: 10px; right: 10px; background-color: #D32F2F; color: white; padding: 5px 10px; border-radius: 5px; font-size: 0.8em; font-weight: bold;">YENÄ°</div>' : '';

                const coverUrl = mac.kapak_url || 'https://placehold.co/300x180/333/fff?text=KAPAK+YOK';

                kart.innerHTML = `
                    <div style="position: relative;">
                        <img src="${coverUrl}" alt="${mac.ad} KapaÄŸÄ±" class="mac-kapak" 
                            onerror="this.onerror=null; this.src='https://placehold.co/300x180/333/fff?text=YUKLENEMEDI';">
                        ${newTag}
                    </div>
                    <div class="mac-bilgi">
                        <h3>${mac.ad}</h3>
                        <p>Kategori: ${mac.kategori} | Tarih: ${mac.tarih}</p>
                        <a href="${mac.drive_link}" target="_blank" class="button indirme-butonu">
                            ğŸ’¾ Ä°ndir / Ä°zle (Drive)
                        </a>
                    </div>
                `;
                listeDiv.appendChild(kart);
            });
        }

        // --- 5. MENÃœ FONKSÄ°YONLARI ---

        // Yan menÃ¼yÃ¼ aÃ§Ä±p kapatÄ±r
        function toggleMenu(forceOpen) {
            const menu = document.getElementById('side-menu');
            const overlay = document.getElementById('menu-overlay');
            
            if (forceOpen === true) {
                menu.classList.add('open');
                overlay.style.display = 'block';
            } else if (forceOpen === false) {
                menu.classList.remove('open');
                overlay.style.display = 'none';
            } else {
                // Toggle
                menu.classList.toggle('open');
                overlay.style.display = menu.classList.contains('open') ? 'block' : 'none';
            }
        }
        
        // Uygulama yÃ¼klendiÄŸinde bildirimleri ayarla
        document.addEventListener('DOMContentLoaded', updateBadges);

    </script>
</body>
</html>
